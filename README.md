# LINKOMA Mobile - H·ªá th·ªëng qu·∫£n l√Ω chung c∆∞

<div align="center">
  <img src="./assets/LINKOMA_MOBILE.png" alt="LINKOMA Mobile Logo" width="200"/>
  
  [![React Native](https://img.shields.io/badge/React%20Native-0.79.3-blue.svg)](https://reactnative.dev/)
  [![Expo](https://img.shields.io/badge/Expo-53.0.11-black.svg)](https://expo.dev/)
  [![Yarn](https://img.shields.io/badge/Yarn-Package%20Manager-2C8EBB.svg)](https://yarnpkg.com/)
  [![TypeScript](https://img.shields.io/badge/JavaScript-ES6+-yellow.svg)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
</div>

## üì± T·ªïng quan

**LINKOMA Mobile** l√† ·ª©ng d·ª•ng di ƒë·ªông h·ªó tr·ª£ h·ªá th·ªëng qu·∫£n l√Ω chung c∆∞, ƒë∆∞·ª£c ph√°t tri·ªÉn b·∫±ng React Native v√† Expo. ·ª®ng d·ª•ng n√†y l√† phi√™n b·∫£n mobile d√†nh cho:

- **üë• C∆∞ d√¢n (Residents)**: Giao di·ªán ƒë·∫ßy ƒë·ªß v·ªõi t·∫•t c·∫£ t√≠nh nƒÉng
- **üè¢ Admin**: Giao di·ªán c∆° b·∫£n (phi√™n b·∫£n web c√≥ ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng h∆°n)

> **L∆∞u √Ω**: Phi√™n b·∫£n web LINKOMA d√†nh cho Admin v√† Manager c√≥ ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng qu·∫£n l√Ω. Mobile app t·∫≠p trung v√†o tr·∫£i nghi·ªám ng∆∞·ªùi d√πng cu·ªëi v√† m·ªôt s·ªë t√≠nh nƒÉng admin c∆° b·∫£n.

## üèóÔ∏è Ki·∫øn tr√∫c h·ªá th·ªëng

```
üì¶ LINKOMA Ecosystem
‚îú‚îÄ‚îÄ üåê LINKOMA Web (Admin/Manager Full Features)
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard qu·∫£n l√Ω to√†n di·ªán
‚îÇ   ‚îú‚îÄ‚îÄ B√°o c√°o v√† ph√¢n t√≠ch
‚îÇ   ‚îî‚îÄ‚îÄ Qu·∫£n l√Ω h·ªá th·ªëng n√¢ng cao
‚îÇ
‚îî‚îÄ‚îÄ üì± LINKOMA Mobile (End Users + Basic Admin)
    ‚îú‚îÄ‚îÄ C∆∞ d√¢n: ƒê·∫ßy ƒë·ªß t√≠nh nƒÉng
    ‚îî‚îÄ‚îÄ Admin: T√≠nh nƒÉng c∆° b·∫£n
```

## ‚ú® T√≠nh nƒÉng ch√≠nh

### üë§ D√†nh cho C∆∞ d√¢n (Residents)
- **üè† Th√¥ng tin cƒÉn h·ªô**: Xem th√¥ng tin cƒÉn h·ªô, lo·∫°i cƒÉn h·ªô
- **üìã Qu·∫£n l√Ω h√≥a ƒë∆°n**: Xem, thanh to√°n h√≥a ƒë∆°n ti·ªÅn thu√™ v√† d·ªãch v·ª•
- **üí¨ Ph·∫£n h·ªìi**: G·ª≠i ph·∫£n h·ªìi, khi·∫øu n·∫°i ƒë·∫øn ban qu·∫£n l√Ω
- **üì¢ Th√¥ng b√°o**: Nh·∫≠n th√¥ng b√°o t·ª´ ban qu·∫£n l√Ω
- **üîß ƒêƒÉng k√Ω d·ªãch v·ª•**: ƒêƒÉng k√Ω c√°c d·ªãch v·ª• trong chung c∆∞
- **üë§ Qu·∫£n l√Ω t√†i kho·∫£n**: C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n, ƒë·ªïi m·∫≠t kh·∫©u

### üè¢ D√†nh cho Admin (T√≠nh nƒÉng c∆° b·∫£n)
- **üìä Dashboard**: T·ªïng quan c∆° b·∫£n v·ªÅ h·ªá th·ªëng
- **üë• Qu·∫£n l√Ω c∆∞ d√¢n**: CRUD c∆∞ d√¢n (c∆° b·∫£n)
- **üè† Qu·∫£n l√Ω cƒÉn h·ªô**: CRUD cƒÉn h·ªô v√† lo·∫°i cƒÉn h·ªô
- **üìã Qu·∫£n l√Ω h√≥a ƒë∆°n**: T·∫°o, xem, c·∫≠p nh·∫≠t h√≥a ƒë∆°n
- **üí¨ Qu·∫£n l√Ω ph·∫£n h·ªìi**: Xem v√† ph·∫£n h·ªìi feedback
- **üì¢ Th√¥ng b√°o**: G·ª≠i th√¥ng b√°o t·ªõi c∆∞ d√¢n
- **üîß Qu·∫£n l√Ω d·ªãch v·ª•**: Qu·∫£n l√Ω lo·∫°i d·ªãch v·ª• v√† ƒëƒÉng k√Ω

> **L∆∞u √Ω**: T√≠nh nƒÉng Manager hi·ªán ch∆∞a c√≥ trong mobile app. S·ª≠ d·ª•ng phi√™n b·∫£n web ƒë·ªÉ truy c·∫≠p ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng qu·∫£n l√Ω.

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

### Frontend
- **React Native**: 0.79.3
- **Expo**: 53.0.11 (Managed Workflow)
- **React Navigation**: 7.x (Stack, Tab, Drawer)
- **Expo Vector Icons**: Icon system
- **React Native Reanimated**: Animations

### State Management & Storage
- **React Context**: Global state management
- **AsyncStorage**: Local data persistence
- **Expo SecureStore**: Secure token storage

### API & Networking
- **Axios**: HTTP client
- **REST API**: Backend communication
- **JWT**: Authentication & authorization

### Push Notifications
- **Expo Notifications**: Push notification system
- **Expo Device**: Device information
- **Expo Constants**: App constants

### Development Tools
- **Yarn**: Package manager
- **Babel**: JavaScript compiler
- **Metro**: React Native bundler
- **ESLint**: Code linting

## üìã Y√™u c·∫ßu h·ªá th·ªëng

### Development Environment
- **Node.js**: >= 18.x
- **Yarn**: >= 1.22.x
- **Expo CLI**: Latest version
- **Android Studio** (for Android development)
- **Xcode** (for iOS development - macOS only)

### Target Platforms
- **iOS**: >= 13.0
- **Android**: >= API 21 (Android 5.0)

## üöÄ C√†i ƒë·∫∑t v√† ch·∫°y d·ª± √°n

### 1. Clone repository
```bash
git clone [repository-url]
cd linkoma-mobile-backup
```

### 2. C√†i ƒë·∫∑t dependencies
```bash
# S·ª≠ d·ª•ng Yarn (khuy·∫øn ngh·ªã)
yarn install

# Ho·∫∑c s·ª≠ d·ª•ng npm
npm install
```

### 3. C·∫•u h√¨nh environment
```bash
# T·∫°o file .env t·ª´ template
cp .env.example .env

# C·∫≠p nh·∫≠t c√°c bi·∫øn m√¥i tr∆∞·ªùng
nano .env
```

### 4. Ch·∫°y ·ª©ng d·ª•ng

#### Development Mode
```bash
# Kh·ªüi ƒë·ªông Expo development server
yarn start

# Ch·∫°y tr√™n Android
yarn android

# Ch·∫°y tr√™n iOS
yarn ios

# Ch·∫°y tr√™n web
yarn web
```

#### Production Build
```bash
# Build cho Android
expo build:android

# Build cho iOS
expo build:ios
```

## üìÅ C·∫•u tr√∫c d·ª± √°n

```
linkoma-mobile-backup/
‚îú‚îÄ‚îÄ üì± App.js                          # Entry point
‚îú‚îÄ‚îÄ üì± app.json                        # Expo configuration
‚îú‚îÄ‚îÄ üì± package.json                    # Dependencies
‚îú‚îÄ‚îÄ üì± index.js                        # Root component
‚îÇ
‚îú‚îÄ‚îÄ üé® assets/                         # Static assets
‚îÇ   ‚îú‚îÄ‚îÄ adaptive-icon.png
‚îÇ   ‚îú‚îÄ‚îÄ icon.png
‚îÇ   ‚îú‚îÄ‚îÄ splash-icon.png
‚îÇ   ‚îî‚îÄ‚îÄ LINKOMA_MOBILE.png
‚îÇ
‚îú‚îÄ‚îÄ üìÇ src/
‚îÇ   ‚îú‚îÄ‚îÄ üß© components/                 # Reusable components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModernButton.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModernCard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModernFormInput.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModernScreenWrapper.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PushNotificationDebug.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TokenDebug.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üåê contexts/                   # React contexts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üé£ hooks/                      # Custom hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuthNavigation.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePushNotifications.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useUserSetup.js
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üß≠ navigation/                 # Navigation structure
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AppNavigator.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üì± screens/                    # App screens
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üîê Auth/                   # Authentication
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìä Dashboard/              # Dashboards
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üë§ Admin/                  # Admin screens
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üë• Resident/               # Resident screens
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üéØ OnboardingScreen/       # Onboarding
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üîå services/                   # API services
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apiConfig.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authService.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ httpClient.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ apartmentService.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ invoiceService.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feedbackService.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notificationService.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.js
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üõ†Ô∏è utils/                      # Utilities
‚îÇ       ‚îî‚îÄ‚îÄ dateUtils.js
‚îÇ
‚îú‚îÄ‚îÄ üìö docs/                           # Documentation
‚îÇ   ‚îú‚îÄ‚îÄ api-reference.md
‚îÇ   ‚îú‚îÄ‚îÄ feature-specs.md
‚îÇ   ‚îú‚îÄ‚îÄ endpoint-list.txt
‚îÇ   ‚îî‚îÄ‚îÄ api-schema.json
‚îÇ
‚îî‚îÄ‚îÄ üß™ tests/                          # Test files
    ‚îú‚îÄ‚îÄ test-apartment-types.md
    ‚îú‚îÄ‚îÄ push-notifications-guide.md
    ‚îú‚îÄ‚îÄ token-management-guide.md
    ‚îî‚îÄ‚îÄ resident-invoice-integration.md
```

## üîó API Integration

### Backend URL
```javascript
// Production
const API_BASE_URL = "https://linkoma-be.onrender.com/v1";

// Development
const API_BASE_URL = "http://localhost:3000/v1";
```

### Authentication
- **JWT Tokens**: Access token for API requests
- **Refresh Tokens**: HttpOnly cookies for token renewal
- **Auto-logout**: Automatic logout on token expiry

### Key Endpoints
```
üîê Auth:        /auth/login, /auth/logout
üë• Users:       /users, /users/{id}
üè† Apartments:  /apartments, /apartment-types
üìã Invoices:    /invoices, /invoice-details
üí¨ Feedback:    /feedbacks
üì¢ Announcements: /announcements
üîß Services:    /service-types, /service-registrations
```

## üîê Ph√¢n quy·ªÅn v√† B·∫£o m·∫≠t

### User Roles
```javascript
RESIDENT: {
  permissions: ["viewOwnData", "payInvoices", "submitFeedback"]
}

ADMIN: {
  permissions: ["fullAccess", "systemManagement", "userManagement"]
}

// Note: Manager role kh√¥ng c√≥ trong mobile app
// S·ª≠ d·ª•ng phi√™n b·∫£n web ƒë·ªÉ truy c·∫≠p t√≠nh nƒÉng Manager
```

### Security Features
- ‚úÖ JWT-based authentication
- ‚úÖ Automatic token refresh
- ‚úÖ Secure storage (AsyncStorage + SecureStore)
- ‚úÖ API request signing
- ‚úÖ Role-based access control
- ‚úÖ Input validation and sanitization

## üì± Push Notifications

### Setup
```javascript
// Expo Notifications configuration
- Automatic token registration
- Background notification handling
- Custom notification sounds
- Deep linking support
```

### Features
- üì¢ Announcement notifications
- üí∞ Invoice due date reminders
- üí¨ Feedback response notifications
- üîî System alerts

## üß™ Testing

### Manual Testing Scripts
```bash
# Test token management
./test-token-management.bat

# Test resident invoices
./test-resident-invoices.bat

# Test apartment types
./test-apartment-types.md

# Test push notifications
./push-notifications-guide.md
```

### Testing Checklist
- [ ] Authentication flow
- [ ] Role-based navigation
- [ ] API integration
- [ ] Push notifications
- [ ] Offline functionality
- [ ] Error handling

## üìä Performance

### Optimization
- **Lazy Loading**: Screen-based code splitting
- **Image Optimization**: Proper asset handling
- **API Caching**: Response caching for better UX
- **Memory Management**: Proper cleanup and disposal

### Monitoring
- **Error Tracking**: Custom error boundaries
- **Performance Metrics**: Loading time tracking
- **User Analytics**: Navigation and usage patterns

## üöÄ Deployment

### Development
```bash
# Start development server
yarn start

# Use Expo Go app to scan QR code
```

### Production
```bash
# Build for app stores
expo build:android --type=app-bundle
expo build:ios --type=archive

# Or use EAS Build (recommended)
eas build --platform android
eas build --platform ios
```

## ü§ù Contributing

### Development Workflow
1. Fork the repository
2. Create feature branch
3. Make changes
4. Test thoroughly
5. Submit pull request

### Code Standards
- **ESLint**: Code linting
- **Prettier**: Code formatting
- **Component Structure**: Functional components with hooks
- **File Naming**: PascalCase for components, camelCase for utilities

## üìû Support

### Team
- **Mobile Development**: React Native Team
- **Backend API**: Node.js Team  
- **UI/UX Design**: Design Team
- **DevOps**: Infrastructure Team

> **Manager Features**: Hi·ªán ch∆∞a available trong mobile app. S·ª≠ d·ª•ng LINKOMA Web cho ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng qu·∫£n l√Ω.

### Resources
- **Documentation**: `/docs` folder
- **API Reference**: `docs/api-reference.md`
- **Troubleshooting**: `docs/troubleshooting.md`

## üìà Roadmap

### Upcoming Features
- [ ] **Manager Dashboard**: Qu·∫£n l√Ω c∆∞ d√¢n v√† h√≥a ƒë∆°n cho Manager
- [ ] **Real-time Chat**: Resident-Manager communication
- [ ] **Payment Gateway**: Multiple payment methods
- [ ] **IoT Integration**: Smart home features
- [ ] **Visitor Management**: Guest registration system
- [ ] **Maintenance Requests**: Service request tracking
- [ ] **Community Features**: Social networking for residents

### Technical Improvements
- [ ] **Offline Mode**: Enhanced offline functionality
- [ ] **Dark Mode**: Theme switching
- [ ] **Accessibility**: Screen reader support
- [ ] **Performance**: Bundle size optimization
- [ ] **Security**: Enhanced encryption

## üìÑ License

D·ª± √°n LINKOMA Mobile ƒë∆∞·ª£c ph√°t tri·ªÉn cho m·ª•c ƒë√≠ch gi√°o d·ª•c v√† th∆∞∆°ng m·∫°i.

---

<div align="center">
  <p>Made with ‚ù§Ô∏è by LINKOMA Team</p>
  <p>¬© 2025 LINKOMA. All rights reserved.</p>
</div>
